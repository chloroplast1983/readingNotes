# 7. 提供远程块存储

## iSCSI 概念

* iSCSI 简介

### iSCSI简介

Internet 小型计算机系统接口(iSCSI)是一个基于`TCP/IP`的协议, 用于通过`IP`网络仿真`SCSI`高性能本地存储总线, 从而为远程块存储设备提供数据传输和管理. 作为存储区域网络(SAN)协议, `iSCSI`跨本地和广域网络(LAN, WAN 以及 Internet)扩展`SAN`,通过分布式服务器和数组提供独立于位置的数据存储检索.

SCSI 协议套件提供基于设备总线通信协议的命令描述其块(`CDB`)命令集. 对于每个通道的所有设备(电缆总线), 原始`SCSI`拓扑使用长度限制为20米的物理布线. 光纤通道(FC)已淘汰了物理`SCSI`磁盘和布线, `FC`保留了`SCSI`的`CDB`命令集, 但是将磁盘和总线通信更换为协议以便进行更长且速度更快的光纤布线.

**iSCSI协议还保留了CDB命令集, 在通过标准TCP/IP封装的iSCSI系统之间执行总线通信**. `iSCSI`服务器使用文件， 逻辑卷或任何类型的磁盘作为底层存储来仿真成纤维目标的`SCSI`设备.

**iSCSI**的使用使`SAN`摆脱了本地布线的限制, 促进了本地或远程数据中心的存储整合.

#### iSCSI 基础知识

`iSCSI`协议的运行方式类似于客户端-服务器配置. 客户端系统将启动器软件配置为将`SCSI`命令发送到远程服务器存储目标. 访问的`iSCSI`目标在客户端系统上显示为本地且未格式化的`SCSI`块设备, 等同于通过`SCSI`布线, `FC`直连或`FC`交换光纤连接的设备.

#### iSCSI 组件术语

* 启动器, 客户端.
* 目标, `iSCSI`存储资源, 针对来自`iSCSI`服务器的连接而配置.
* ACL, 访问权限控制列表(条目), 一个使用节点`IQN`来验证启动器的访问权限的访问限制.
* 发现, 查询目标服务器以列出配置的目标.
* IQN, `iSCSI`限定明恒, 一个全球唯一名称, 用于以强制命名格式来识别启动器和目标.
* 登录, 向目标或`LUN`进行身份验证以开始使用客户端块设备.
* LUN, 逻辑单元号, 带有编号的块设备, 连接到目标并且通过目标来使用.
* 节点, 任何`iCSI`启动器或`iSCSI`目标, 由其`IQN`来标识.
* 门户, 目标或启动器上用于建立链接的`IP`地址和端口.
* TPG, 目标门户组, 某个特定`iSCSI`目标将要侦听的接口`IP`地址和`TCP`端口的集合.